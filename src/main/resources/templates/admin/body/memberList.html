<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>회원 관리</title>
	<link rel="stylesheet" th:href="@{/static/css/common.css}">
	<link rel="stylesheet" th:href="@{/static/css/memberList.css}">
</head>
<body>
	<div class="container">
		<div class="title">회원 관리</div>

		<!-- 검색 -->
		<div class="search-bar">
			<input type="text" id="search" placeholder="검색">
			<button type="button" id="search_button" th:onclick="performSearch(1)">검색</button>
		</div>

		<!-- 테이블 -->
		<table>
			<thead>
				<tr>
					<th>회원 번호</th>
					<th>아이디</th>
					<th>이름</th>
					<th>이메일</th>
					<th>전화 번호</th>
					<th>성별</th>
					<th>가입 날짜</th>
				</tr>
			</thead>
			<tbody id="memberTableBody">
			    <tr th:each="member : ${members}">
			        <td th:text="${member.memberSeq}"></td>
			        <td th:text="${member.id}"></td>
			        <td th:text="${member.name}"></td>
			        <td th:text="${member.email}"></td>
			        <td th:text="${member.phone}"></td>
			        <td th:text="${member.gender}"></td>
			        <td th:text="${#temporals.format(member.registerDate,'yyyy-MM-dd')}"></td>
			    </tr>
			</tbody>
		</table>

		<!-- 페이징 -->
		<div class="pagination" th:if="${totalPages > 0}">
			<!-- 이전 버튼 -->
			<a href="#" th:if="${currentPage > 1}" th:onclick="'loadPage(' +${currentPage -1} + ')'">이전</a> 
			
			<!-- 페이지 번호 -->
			<th:block th:each="pageNum : ${#numbers.sequence(1, totalPages)}">
				<a href="#"
					th:text="${pageNum}"
					th:class="${pageNum == currentPage ? 'active' : ''}"
					th:onclick="'loadPage('+ ${pageNum} + ')'"></a>
			</th:block>
			
			<!-- 다음 버튼 -->
			<a href="#" th:if="${currentPage < totalPages}" 
				th:onclick="'loadPage(' + ${currentPage + 1} + ')'"> 다음</a>
		</div>
	</div>
		<!-- <script th:src="@{/static/js/member_search.js}"></script> -->
		<script th:src="@{/static/js/member_search.js}"></script>
</body>
</html>
